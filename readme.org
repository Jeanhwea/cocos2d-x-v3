#+TITLE: cocos2d-x v3 branch
#+AUTHOR: Jinghui Hu
#+EMAIL: hujinghui@buaa.edu.cn
#+DATE: <2025-12-03 Wed>
#+STARTUP: overview num indent
#+OPTIONS: ^:nil

| CI Topic            | Status                                                                                      |
|---------------------+---------------------------------------------------------------------------------------------|
| unit test on master | [[https://github.com/Jeanhwea/cocos2d-x-v3/actions/workflows/main.yml/badge.svg?branch=master]] |
| create cpp project  | [[https://github.com/Jeanhwea/cocos2d-x-v3/actions/workflows/new-cpp.yml/badge.svg]]            |
| create js project   | [[https://github.com/Jeanhwea/cocos2d-x-v3/actions/workflows/new-js.yml/badge.svg]]             |
| create lua project  | [[https://github.com/Jeanhwea/cocos2d-x-v3/actions/workflows/new-lua.yml/badge.svg]]            |


* 项目介绍
1. 本项目是 [[https://github.com/cocos2d/cocos2d-x/tree/v3][cocos2d-x]] 的 v3 分支的克隆 | [[README.old.md]] | [[https://docs.cocos.com/cocos2d-x/manual/zh/][man]]
2. 移除了 git 子模块的配置，提供开箱即用的 cocos2d-x 的开发工具
3. 修复了项目的一些问题

* 快速开始
** 环境配置
1. 原始脚本依赖 Python2 的环境， *Python3 会报错*
2. 需要安装 cmake 来生成配置项
3. 开发环境比较随意，根据直接喜好来就行
   - Windows 使用 Visual Studio 2022
   - MacOS 使用 Xcode
   - 直接使用 cmake 管理项目，使用编辑器开发也是可以的
4. 使用命令安装
   #+BEGIN_SRC sh
     # 克隆代码仓库
     git clone https://github.com/Jeanhwea/cocos2d-x-v3.git

     # 使用 Python2 设置环境变量
     cd cocos2d-x-v3
     python setup.py
   #+END_SRC

** 创建项目
默认使用命令行创建项目，一些常用参数包括
- ~new <ProjectName>~ 创建项目的子命令，需要提供一个项目名 ProjectName
- ~-p~ 包名
- ~-l~ 编程语言，支持 ~cpp~, ~js~, ~lua~
- ~-d~ 创建目录，如果没有默认当前目录
#+BEGIN_SRC sh
  cocos new HelloGame -p io.github.jeanhwea.hellogame -l cpp
#+END_SRC

** Windows 开发
生成项目解决方案文件 *.sln
#+BEGIN_SRC sh
  cmake -B build -G"Visual Studio 17 2022" -A win32
#+END_SRC

构建项目
#+BEGIN_SRC sh
  cmake --build build
#+END_SRC

** MacOS 开发
#+BEGIN_SRC sh
  cmake -B build -G"Xcode"
#+END_SRC

构建项目
#+BEGIN_SRC sh
  cmake --build build --config Release
#+END_SRC
